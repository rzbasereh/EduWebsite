{% extends 'teacher/layouts/base_layout.html' %}
{% load static %}
{% load math_filter %}
{% block title %}بانک سوالات{% endblock %}
{% block change-sidebar %}close-sidebar{% endblock %}
{% block change-top-drive %}changeTopDrive{% endblock %}
{% block change-Page-Body %}max-width{% endblock %}
{% block remove-text %}removeText{% endblock %}
{% block remove-text1 %}removeText{% endblock %}
{% block remove-text2 %}removeText{% endblock %}
{% block remove-text3 %}removeText{% endblock %}
{% block remove-text4 %}removeText{% endblock %}
{% block remove-text5 %}removeText{% endblock %}
{% block no-padding-Page-Body %}no-padding-Page-Body{% endblock %}
{% block style %}
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.35.0/skin-bootstrap/ui.fancytree.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/jquery-tagsinput/1.3.6/jquery.tagsinput.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.css">
{% endblock %}
{% block content %}
    <div class="modal fade" id="questionInfo" tabindex="-1" aria-labelledby="questionInfoLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="questionInfoLabel">اطلاعات سوال</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <svg class="bi bi-x" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z"
                                  clip-rule="evenodd"></path>
                            <path fill-rule="evenodd"
                                  d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z"
                                  clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-12">

                        </div>
                    </div>
                    <div class="row text-right">
                        <div class="col-md-4">
                            <div class="mb-3">اطلاعات</div>
                            <div>
                                <div>دفعات استفاده</div>
                                <div>5 بار</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">درصد پاسخ گویی</div>
                            <div class="chart">
                                <canvas id="questionAnsweringPercent" width="200" height="200"></canvas>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">درصد پاسخ گویی به تفکیک گزینه</div>
                            <div class="chart">
                                <canvas id="questionAnsweringChoicePercent" width="200" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="questionRequest" data-backdrop="static" tabindex="-1"
         aria-labelledby="questionRequestLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="questionRequestLabel">ارسال درخواست</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <svg class="bi bi-x" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z"
                                  clip-rule="evenodd"></path>
                            <path fill-rule="evenodd"
                                  d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z"
                                  clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="modal-body text-right">
                    <div class="form-group">
                        <label for="inputGroupSelect01">نوع درخواست</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                            <span class="input-group-text">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar"
                                     fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                          d="M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"></path>
                                    <path fill-rule="evenodd"
                                          d="M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z"></path>
                                </svg>
                            </span>
                            </div>
                            <select class="custom-select prepend-select" id="inputGroupSelect01">
                                <option selected>انتخاب کنید</option>
                                <option value="1">گزارش مشکل</option>
                                <option value="2">ارسال پاسخ تشریحی</option>
                                {#                                <option value="3"></option>#}
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="complete-ans" class="complete-ans-label">پاسخ تشریحی</label>
                                <div id="complete-ans" class="w-100 complete-ans fr-toolbar__fixed"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="reportReply">توضیحات</label>
                                <textarea class="form-control overflow-hidden" id="reportReply" rows="3"
                                          placeholder="اینجا وارد کنید ..." name="text"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
                    <button type="button" class="btn btn-blue" data-url="#">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cursor" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"></path>
                        </svg>
                        ارسال
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="selectGrade" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg  modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">انتخاب موضوع سوال</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <svg class="bi bi-x" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z"
                                  clip-rule="evenodd"></path>
                            <path fill-rule="evenodd"
                                  d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z"
                                  clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="modal-body min-h-300">
                    <div class="row" style="min-height: 247px">
                        <div class="col-8">
                            <div class="fancy-tree-container text-right" id="grade-fancy-tree"></div>
                        </div>
                        <span class="vr-hr"></span>
                        <div class="col-4">
                            <div class="fancy-tree-selected text-right">
                                <div>انتخاب شده ها</div>
                                <div class="no-color" id="tags"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-blue" data-url="{% url 'teacher:saveGrades' %}">
                        مرحله بعد
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z"></path>
                            <path fill-rule="evenodd"
                                  d="M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row w-100 ">
        <div class="col-3 question-sidebar">
            <a href="#" class="btn btn-blue" data-toggle="modal" data-target="#selectGrade">
                {#                {% url 'teacher:newQuestion' %}#}
                <span>
                    <svg class="bi bi-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                          d="M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z"
                          clip-rule="evenodd">
                    </path>
                    <path fill-rule="evenodd" d="M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z"
                          clip-rule="evenodd">
                    </path>
                    </svg>
                <span>افزودن سوال</span>
                </span>
            </a>
            <a href="#" class="active" id="all_questions">
                <i>
                    <svg class="bi bi-list-ul" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M5 11.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm-3 1a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2z"
                              clip-rule="evenodd">
                        </path>
                    </svg>
                </i>
                <span>همه ی سوالات </span>
            </a>
            <a id="my_questions" href="#">
                <i>
                    <svg class="bi bi-person-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M11 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM1.022 13h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002.002zM6 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0zm4.5 0a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 010-1H13V5.5a.5.5 0 01.5-.5z"
                              clip-rule="evenodd"></path>
                        <path fill-rule="evenodd" d="M13 7.5a.5.5 0 01.5-.5h2a.5.5 0 010 1H14v1.5a.5.5 0 01-1 0v-2z"
                              clip-rule="evenodd">
                        </path>
                    </svg>
                </i>
                <span>سوال های من </span>
            </a>

            <a href="

                    {% if exam_info.state == "submitted" %}{% url 'teacher:edit_exam' exam_info.pk %}{% else %}{% url 'teacher:new_exam' %}{% endif %}"
               class="sidebar-bottom-box">
                <div class="question-counter {% if selected_question|length %}question-counter-active{% endif %}"
                     data-url="
                             {% if exam_info.state == "submitted" %}{% url 'teacher:selectedQuestion_edit' exam_info.pk %}{% else %}{% url 'teacher:selectedQuestion' %}{% endif %}">
                    <h2>
                        <svg class="bi bi-check-box" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z"
                                  clip-rule="evenodd"></path>
                            <path fill-rule="evenodd"
                                  d="M1.5 13A1.5 1.5 0 003 14.5h10a1.5 1.5 0 001.5-1.5V8a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5V3a.5.5 0 01.5-.5h8a.5.5 0 000-1H3A1.5 1.5 0 001.5 3v10z"
                                  clip-rule="evenodd"></path>
                        </svg>
                        سوالات انتخاب شده
                        <span class="counter-parent"
                              style="{% if selected_question|length %}display:inline-block {% endif %}">
                            (<span class="counter">{{ selected_question|length }}</span>)
                        </span>
                    </h2>
                </div>
            </a>
        </div>
        <div class="col-9 question-body" data-url="{% url 'teacher:filter_page' %}">
            {#            <div class="row scrolled-header">#}
            {#                <div class="input-group mb-3">#}
            {#                    <input type="text" class="form-control fc1" placeholder=" جستجوی سوالات"#}
            {#                           aria-label="Username"#}
            {#                           aria-describedby="basic-addon1">#}
            {#                    <span class="ti-search"></span>#}
            {#                </div>#}
            {#            </div>#}
            <h1 id="pageHeader">همه سوالات <span> ({{ questions.count }}) </span></h1>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{% url 'teacher:index' %}">
                            <svg class="bi bi-house-fill" width="1em" height="1em" viewBox="0 0 16 16"
                                 fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M8 3.293l6 6V13.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z"
                                      clip-rule="evenodd"></path>
                                <path fill-rule="evenodd"
                                      d="M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z"
                                      clip-rule="evenodd"></path>
                            </svg>
                        </a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">بانک سوال</li>
                    <li class="breadcrumb-item active" aria-current="page">همه سوال ها</li>
                </ol>
            </nav>
            <div class="clearfix w-100 mb-2">
                <span class="float-right mt-2 ml-2 mr-3">نمایش</span>
                <span class="float-right">
                    <div class="form-group m-0 white-bg">
                        <label>
                            <select class="form-control white-bg" id="previewUnit">
                                <option selected>10</option>
                                <option>5</option>
                                <option>1</option>
                            </select>
                        </label>
                    </div>
                </span>
                <span class="float-right mr-2">
                    <div class="form-group m-0 white-bg">
                        <div class="input-group white-bg">
                            <div class="input-group-prepend">
                             <span class="input-group-text">
                                 <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down-up"
                                      fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                     <path fill-rule="evenodd"
                                           d="M11 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"></path>
                                     <path fill-rule="evenodd"
                                           d="M10.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L11 3.707 8.354 6.354a.5.5 0 1 1-.708-.708l3-3zm-9 7a.5.5 0 0 1 .708 0L5 12.293l2.646-2.647a.5.5 0 1 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"></path>
                                     <path fill-rule="evenodd"
                                           d="M5 2.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5z"></path>
                                 </svg>
                             </span>
                            </div>
                            <label class="m-0">
                                <select class="custom-select prepend-select pl-4">
                                    <option selected>انتخاب کنید</option>
                                    <option value="1">سخت به آسان</option>
                                    <option value="2">آسان به سخت</option>
                                    <option value="3">جدیدترین ها</option>
                                    <option value="4">قدیمی ها</option>
                                </select>
                            </label>
                        </div>
                    </div>
                </span>
                <span class="float-left">
                    <div class="dropdown keep_it_open">
                    <div data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="filterDropdown">
                        <div class="filter-question">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-funnel-fill"
                                 fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="dropdown-menu" aria-labelledby="filterDropdown">
                        <ul>
                            <li>
                                <h6>سطح سوال</h6>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level"
                                           id="level0" value="0" checked>
                                    <label class="form-check-label" for="level0">
                                        همه
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level"
                                           id="level1" value="1">
                                    <label class="form-check-label" for="level1">
                                        ساده
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level"
                                           id="level2" value="2">
                                    <label class="form-check-label" for="level2">
                                        متوسط
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level"
                                           id="level3" value="3">
                                    <label class="form-check-label" for="level3">
                                        سخت
                                    </label>
                                </div>
                            </li>
                            {#                                <li>#}
                            {#                                    <h6>منبع</h6>#}
                            {#                                    <div class="form-check">#}
                            {#                                        <input class="form-check-input" type="radio" name="source"#}
                            {#                                               id="exampleRadios1" value="option1" checked>#}
                            {#                                        <label class="form-check-label" for="exampleRadios1">#}
                            {#                                            همه#}
                            {#                                        </label>#}
                            {#                                    </div>#}
                            {#                                    <div class="form-check">#}
                            {#                                        <input class="form-check-input" type="radio" name="exampleRadios"#}
                            {#                                               id="exampleRadios2" value="option2">#}
                            {#                                        <label class="form-check-label" for="exampleRadios2">#}
                            {#                                            قلمچی#}
                            {#                                        </label>#}
                            {#                                    </div>#}
                            {#                                    <div class="form-check">#}
                            {#                                        <input class="form-check-input" type="radio" name="exampleRadios"#}
                            {#                                               id="exampleRadios2" value="option2">#}
                            {#                                        <label class="form-check-label" for="exampleRadios2">#}
                            {#                                            گزینه دو#}
                            {#                                        </label>#}
                            {#                                    </div>#}
                            {#                                    <div class="form-check">#}
                            {#                                        <input class="form-check-input" type="radio" name="exampleRadios"#}
                            {#                                               id="exampleRadios2" value="option2">#}
                            {#                                        <label class="form-check-label" for="exampleRadios2">#}
                            {#                                            سنجش#}
                            {#                                        </label>#}
                            {#                                    </div>#}
                            {#                                </li>#}
                            <li>
                                <button type="button" class="btn btn-blue w-100">اعمال فیلتر</button>
                            </li>
                        </ul>
                    </div>
                </div>
                </span>
                <span class="float-left">
                    <div class="input-group white-bg">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search"
                                     fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                          d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"></path>
                                    <path fill-rule="evenodd"
                                          d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"></path>
                                </svg>
                                <div class="spinner-border d-none" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </span>
                        </div>
                        <input type="text" class="form-control prepend-input" placeholder="جستجو"
                               aria-label="جستجو"
                               aria-describedby="basic-addon1" id="navSearch"
                               data-url="">
                    </div>
                </span>
            </div>

            <div class="question-page-body">
                <div class="questions">
                    <div class="row questions-content">
                        {% for question in questions.list %}
                            <div class="card w-100" id="{{ question.pk }}">
                                <div class="card-body">
                                    <div class="question-type">
                                        <span>
                                            <span>پایه دهم</span>
                                            <span>
                                                <svg class="bi bi-chevron-left" width="1em" height="1em"
                                                     viewBox="0 0 16 16"
                                                     fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                          d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z"
                                                          clip-rule="evenodd"></path>
                                                </svg>
                                            </span>
                                            <span>بانک سوال</span>
                                            <span>
                                                <svg class="bi bi-chevron-left" width="1em" height="1em"
                                                     viewBox="0 0 16 16"
                                                     fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                          d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z"
                                                          clip-rule="evenodd"></path>
                                                </svg>
                                            </span>
                                            <span>همه ی سوالات</span>
                                        </span>
                                    </div>
                                    <div class="question-info">
                                        <div class="question-info-data">
                                                    <span class="question-level">
                                                        <svg class="bi bi-dot {% if question.level == "1" %}bi-dot-simple{% elif question.level == "2" %}bi-dot-middle{% elif question.level == "3" %}bi-dot-hard{% endif %}"
                                                             width="1em" height="1em"
                                                             viewBox="0 0 16 16" fill="currentColor"
                                                             xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd"
                                                                  d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"
                                                                  clip-rule="evenodd"></path>
                                                        </svg>
                                                        <span>
                                                            {% if question.level == "1" %}
                                                                ساده
                                                            {% elif question.level == "2" %}
                                                                متوسط
                                                            {% elif question.level == "3" %}
                                                                دشوار
                                                            {% endif %}
                                                        </span>
                                                    </span>
                                            <span data-toggle="modal" data-target="#questionInfo" data-url="">
                                                    <svg class="bi bi-pie-chart" width="1em" height="1em"
                                                         viewBox="0 0 16 16" fill="currentColor"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                              d="M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z"
                                                              clip-rule="evenodd"></path>
                                                        <path fill-rule="evenodd"
                                                              d="M7.5 7.793V1h1v6.5H15v1H8.207l-4.853 4.854-.708-.708L7.5 7.793z"
                                                              clip-rule="evenodd"></path>
                                                    </svg>
                                            </span>
                                            <div class="dropdown">
                                                <button class="btn btn-secondary dropdown-toggle" type="button"
                                                        id="dropdownMenuButton" data-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">
                                                    <svg class="bi bi-three-dots" width="1em" height="1em"
                                                         viewBox="0 0 16 16" fill="currentColor"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                              d="M3 9.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"
                                                              clip-rule="evenodd"></path>
                                                    </svg>
                                                </button>
                                                <div class="dropdown-menu text-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <a href="{% url 'teacher:edit_question' pk=question.pk %}" class="dropdown-item">
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                             class="bi bi-pencil"
                                                             fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd"
                                                                  d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"></path>
                                                            <path fill-rule="evenodd"
                                                                  d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"></path>
                                                        </svg>
                                                        ویرایش
                                                    </a>
                                                    <button class="dropdown-item" type="button" data-toggle="modal"
                                                            data-target="#questionRequest">
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                             class="bi bi-reply" fill="currentColor"
                                                             xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd"
                                                                  d="M9.502 5.013a.144.144 0 0 0-.202.134V6.3a.5.5 0 0 1-.5.5c-.667 0-2.013.005-3.3.822-.984.624-1.99 1.76-2.595 3.876C3.925 10.515 5.09 9.982 6.11 9.7a8.741 8.741 0 0 1 1.921-.306 7.403 7.403 0 0 1 .798.008h.013l.005.001h.001L8.8 9.9l.05-.498a.5.5 0 0 1 .45.498v1.153c0 .108.11.176.202.134l3.984-2.933a.494.494 0 0 1 .042-.028.147.147 0 0 0 0-.252.494.494 0 0 1-.042-.028L9.502 5.013zM8.3 10.386a7.745 7.745 0 0 0-1.923.277c-1.326.368-2.896 1.201-3.94 3.08a.5.5 0 0 1-.933-.305c.464-3.71 1.886-5.662 3.46-6.66 1.245-.79 2.527-.942 3.336-.971v-.66a1.144 1.144 0 0 1 1.767-.96l3.994 2.94a1.147 1.147 0 0 1 0 1.946l-3.994 2.94a1.144 1.144 0 0 1-1.767-.96v-.667z"></path>
                                                        </svg>
                                                        ارسال درخواست
                                                    </button>
                                                    <button class="dropdown-item" type="button">
                                                        <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                             class="bi bi-trash"
                                                             fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path>
                                                            <path fill-rule="evenodd"
                                                                  d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"></path>
                                                        </svg>
                                                        حذف
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="question-info-img">
                                            <img src="{% static 'main/img/'|add:question.source|add:'.png' %}"
                                                 alt="question source">
                                        </div>
                                        <span>{{ question.pk }}</span>
                                    </div>
                                    <div class="form-group form-check">
                                        <label class="form-check-label customBox"
                                               for="Check-{{ forloop.counter0 }}">
                                            <input type="checkbox" class="form-check-input"
                                                   id="Check-{{ forloop.counter0 }}"
                                                   {% if question.pk in selected_question %}checked{% endif %}>
                                            <span class="checkmark {% if question.pk in selected_question %}clicked{% endif %}"></span>
                                        </label>
                                    </div>
                                    <div class="question-text">

                                        {{ question.body|safe }}
                                    </div>
                                    <div class="question-inline-choices">
                                        {% if not question.choice_1 == "empty" %}
                                            <span {% if question.correct_ans == "1" %}class="selected-correct-choice"{% endif %}>
                                            {% if question.correct_ans == "1" %}
                                                <span class="inline-selected-correct-choice-tick"></span>
                                            {% endif %}
                                                1) {{ question.choice_1|safe }}
                                            </span>
                                        {% endif %}
                                        {% if not question.choice_2 == "empty" %}
                                            <span {% if question.correct_ans == "2" %}class="selected-correct-choice"{% endif %}>
                                            {% if question.correct_ans == "2" %}
                                                <span class="inline-selected-correct-choice-tick"></span>
                                            {% endif %}
                                                2) {{ question.choice_2|safe }}
                                        </span>
                                        {% endif %}
                                        {% if not question.choice_3 == "empty" %}
                                            <span {% if question.correct_ans == "3" %}class="selected-correct-choice"{% endif %}>
                                            {% if question.correct_ans == "3" %}
                                                <span class="inline-selected-correct-choice-tick"></span>
                                            {% endif %}
                                                3) {{ question.choice_3|safe }}
                                        </span>
                                        {% endif %}
                                        {% if not question.choice_4 == "empty" %}
                                            <span {% if question.correct_ans == "4" %}class="selected-correct-choice"{% endif %}>
                                            {% if question.correct_ans == "4" %}
                                                <span class="inline-selected-correct-choice-tick"></span>
                                            {% endif %}
                                                4) {{ question.choice_4|safe }}
                                        </span>
                                        {% endif %}
                                        {% if not question.choice_5 == "empty" %}
                                            <span {% if question.correct_ans == "5" %}class="selected-correct-choice"{% endif %}>
                                            {% if question.correct_ans == "5" %}
                                                <span class="inline-selected-correct-choice-tick"></span>
                                            {% endif %}
                                                5) {{ question.choice_5|safe }}
                                        </span>
                                        {% endif %}
                                    </div>
                                    {% if question.verbose_ans %}
                                        <span>پاسخ تشریحی</span>
                                    {% endif %}
                                </div>
                                {% if question.verbose_ans %}
                                    <div class="verbose-ans">
                                        <h3>پاسخ تشریحی</h3>
                                        <pre>
                                            {{ question.verbose_ans|safe }}
                                        </pre>
                                        <button type="button" class="close">
                                            <svg class="bi bi-x" width="20px" height="20px" viewBox="0 0 16 16"
                                                 fill="currentColor"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd"
                                                      d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z"
                                                      clip-rule="evenodd"></path>
                                                <path fill-rule="evenodd"
                                                      d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z"
                                                      clip-rule="evenodd"></path>
                                            </svg>
                                        </button>
                                    </div>
                                {% endif %}
                            </div>
                        {% endfor %}

                        {#                    <div class="card w-100" id="2">#}
                        {#                        <div class="card-body">#}
                        {#                            <div class="form-group form-check">#}
                        {#                                <label class="form-check-label customBox" for="exampleCheck2">#}
                        {#                                    <input type="checkbox" class="form-check-input" id="exampleCheck2"#}
                        {#                                           name="remember_me">#}
                        {#                                    <span class="checkmark"></span>#}
                        {#                                </label>#}
                        {#                            </div>#}
                        {#                            <div class="question-text">#}
                        {#                                <p>در کدام گزینه غلط املایی دیده می شود#}
                        {#                                    ؟</p>#}
                        {#                                <span class="type">#}
                        {#                                    <svg class="bi bi-three-dots-vertical" width="1em" height="1em" viewBox="0 0 16 16"#}
                        {#                                         fill="currentColor" xmlns="http://www.w3.org/2000/svg">#}
                        {#                                            <path fill-rule="evenodd"#}
                        {#                                                  d="M9.5 13a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"#}
                        {#                                                  clip-rule="evenodd"/>#}
                        {#                                    </svg>#}
                        {#                                    <span>سراسری</span>#}
                        {#                                </span>#}
                        {#                            </div>#}
                        {#                            <div class="question-block-choices">#}
                        {#                                <div><span>1)</span><span class="question-texts"> سکندر آینه ، جمشید جاه و فرخ روز &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; فلک صریر و ملک خلق و آفتاب احسان</span>#}
                        {#                                </div>#}
                        {#                                <div><span>2)</span><span class="question-texts"> سکندر آینه ، جمشید جاه و فرخ روز &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; فلک صریر و ملک خلق و آفتاب احسان</span>#}
                        {#                                </div>#}
                        {#                                <div><span>3)</span><span class="question-texts"> سکندر آینه ، جمشید جاه و فرخ روز &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; فلک صریر و ملک خلق و آفتاب احسان</span>#}
                        {#                                </div>#}
                        {#                                <div class="selected-correct-choice"><span>4)</span><span#}
                        {#                                        class="block-selected-correct-choice-tick"></span><span class="question-texts "> سکندر آینه ، جمشید جاه و فرخ روز &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; فلک صریر و ملک خلق و آفتاب احسان</span>#}
                        {#                                </div>#}
                        {#                            </div>#}
                        {#                            <div class="question-level">#}
                        {#                            </div>#}
                        {#                        </div>#}
                        {#                    </div>#}
                    </div>
                </div>
            </div>
            {% if questions.count|divide:10|length > 1 %}
                <div class="row w-100 pagination">
                    <div>
                        نمایش
                        <span class="start-question-number">1</span>
                        تا
                        <span class="end-question-number">10</span>
                        از
                        <span class="all-questions"> {{ questions.count }}</span>
                        سوال
                    </div>
                    <div id="data-container"></div>
                    <div id="pagination-container"></div>
                    <div id="pagination"></div>
                    {#                    <nav aria-label="Page navigation example">#}
                    {#                        <ul class="pagination">#}
                    {#                            <li class="page-item disabled">#}
                    {#                                <a class="page-link" href="#" aria-label="Previous">#}
                    {#                                    <i class="fas fa-angle-left" aria-hidden="true"></i>#}
                    {#                                </a>#}
                    {#                            </li>#}
                    {#                            {% for count in  questions.count|divide:10 %}#}
                    {#                                {% if forloop.counter < 4 or forloop.last %}#}
                    {#                                    <li class="page-item {% if forloop.first %}active{% endif %} pagination-item">#}
                    {#                                        <a class="page-link" href="#">#}
                    {#                                            <span>{{ count|add:1 }}</span>#}
                    {#                                        </a>#}
                    {#                                    </li>#}
                    {#                                {% elif forloop.counter == 4 %}#}
                    {#                                    <li class="page-item disabled pagination-item">#}
                    {#                                        <a class="page-link" href="#">#}
                    {#                                            <span>...</span>#}
                    {#                                        </a>#}
                    {#                                    </li>#}
                    {#                                {% endif %}#}
                    {#                            {% endfor %}#}
                    {#                            <li class="page-item">#}
                    {#                                <a class="page-link" href="#" aria-label="Next">#}
                    {#                                    <i class="fas fa-angle-right" aria-hidden="true"></i>#}
                    {#                                </a>#}
                    {#                            </li>#}
                    {#                        </ul>#}
                    {#                    </nav>#}
                </div>
            {% endif %}
        </div>
        <div class="linear-activity">
            <div class="indeterminate"></div>
        </div>
    </div>
{% endblock %}
{% block questions-alert %}
    {#    <script type="text/javascript" src="https://pagination.js.org/dist/2.1.5/pagination.min.js"></script>#}
    {#    <script type="text/javascript">#}
    {#        $('#pagination').pagination({#}
    {#            dataSource: [1, 2, 3, 4, 5, 6, 7, 25],#}
    {#            pageSize: 5,#}
    {#            showGoInput: true,#}
    {#            showGoButton: true,#}
    {#            formatGoInput: 'برو به <%= input %> ',#}
    {#            callback: function (data, pagination) {#}
    {#                // template method of yourself#}
    {#var html = template(data);#}
    {#dataContainer.html(html);#}
    {#            }#}
    {#        });#}
    {#    </script>#}
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.min.js"></script>
    <script type="text/javascript">
        {#        New Pagination #}
    </script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-tagsinput/1.3.6/jquery.tagsinput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.35.0/jquery.fancytree-all-deps.min.js"
            type="text/javascript"></script>
    <script type="text/javascript">
        $('#selectGrade').on('show.bs.modal', function (event) {
            let close_svg = '<svg class="bi bi-x" width="15px" height="15px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                '  <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>\n' +
                '  <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>\n' +
                '</svg>';
            $("#tags").tagsInput({
                defaultText: "",
                interactive: true,
                onRemoveTag: function (data) {
                    $("#tags_tagsinput .tag a").html(close_svg);
                    $("#grade-fancy-tree").find(".fancytree-selected").each(function () {
                        if ($(this).find(".fancytree-title").text() === data) {
                            let parent = $(this).closest("li[role='treeitem']");
                            parent.attr("aria-selected", "false");
                            parent.find(".fancytree-node").removeClass("fancytree-partsel").removeClass("fancytree-selected");
                            console.log(parent.find(".fancytree-node").attr("class"));
                        }
                    });
                },
                onAddTag: function (data) {
                    $("#tags_tagsinput .tag a").html(close_svg);
                }
            });

            let grade = "{\n" +
                "  \"پایه دهم\": [\n" +
                "    {\n" +
                "      \"زبان انگلیسی\": [\n" +
                "        {\n" +
                "          \"درس اول\": [\n" +
                "              \"لغات\"\n" +
                "          ]\n" +
                "        },\n" +
                "        {\n" +
                "          \"درس دوم\": [\n" +
                "              \"لغات\"\n" +
                "          ]\n" +
                "        }\n" +
                "      ]\n" +
                "    }\n" +
                "  ]\n" +
                "}";

            function _svg(className, addClass) {
                let html = '';
                switch (className) {
                    case "folder":
                        html = '<svg class="bi bi-folder" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path d="M9.828 4a3 3 0 01-2.12-.879l-.83-.828A1 1 0 006.173 2H2.5a1 1 0 00-1 .981L1.546 4h-1L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3v1z"/>\n' +
                            '  <path fill-rule="evenodd" d="M13.81 4H2.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0013.81 4zM2.19 3A2 2 0 00.198 5.181l.637 7A2 2 0 002.826 14h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0013.81 3H2.19z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;
                    case "folderOpen":
                        html = '<svg class="bi bi-folder-minus" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M9.828 4H2.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91H9v1H2.826a2 2 0 01-1.991-1.819l-.637-7a1.99 1.99 0 01.342-1.31L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3h3.982a2 2 0 011.992 2.181L15.546 8H14.54l.265-2.91A1 1 0 0013.81 4H9.828zm-2.95-1.707L7.587 3H2.19c-.24 0-.47.042-.684.12L1.5 2.98a1 1 0 011-.98h3.672a1 1 0 01.707.293z" clip-rule="evenodd"/>\n' +
                            '  <path fill-rule="evenodd" d="M11 11.5a.5.5 0 01.5-.5h4a.5.5 0 010 1h-4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;
                    case "checkbox":
                        html = '<svg class="bi bi-square" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;
                    case "checkboxSelected":
                        html = '<svg class="bi bi-check-square" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n' +
                            '  <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>\n' +
                            '</svg>';
                        break;
                    case "checkboxUnknown":
                        html = '<svg class="bi bi-dash-square" width="20px" height="20px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd"/>\n' +
                            '  <path fill-rule="evenodd" d="M3.5 8a.5.5 0 01.5-.5h8a.5.5 0 010 1H4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;
                    case "expanderClosed":
                        html = '<svg class="bi bi-chevron-left" width="16px" height="16px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;
                    case "expanderOpen":
                        html = '<svg class="bi bi-chevron-down" width="16px" height="16px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
                            '  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>\n' +
                            '</svg>';
                        break;

                }
                return {html: html};
            }

            let tree = $("#grade-fancy-tree").fancytree({
                extensions: ["glyph"],
                checkbox: true,
                selectMode: 3,
                clickFolderMode: 2,
                rtl: true,
                source: [
                    {#{title: "پایه دهم", key: "1", folder: true, children: [{title: "ریاضی2", key: "3"},{title: "دین و زندگی", key: "4"}]}#}
                    {{ grade|safe }}
                ],
                lazyLoad: function (event, data) {
                    data.result = {url: "https://cdn.rawgit.com/mar10/fancytree/72e03685/demo/ajax-sub2.json"};
                },
                activate: function (event, data) {

                },
                select: function (event, data) {
                    if (data.node.isSelected()) {
                        if (data.node.isFolder()) {
                            console.log("folder: " + data.children.title);
                        } else {
                            console.log(data.node.title);
                            $('#tags').addTag(data.node.title);
                        }
                    } else {
                        $('#tags').removeTag(data.node.title);
                    }
                },
                glyph: {
                    preset: "awesome5",
                    map: {
                        {#_addClass: "",#}
                        checkbox: _svg("checkbox"),
                        checkboxSelected: _svg("checkboxSelected"),
                        checkboxUnknown: _svg("checkboxUnknown"),
                        {#radio: "fas fa-circle",#}
                        {#radioSelected: "fas fa-circle",#}
                        {#radioUnknown: "fas fa-dot-circle",#}
                        {#dragHelper: "fas fa-arrow-right",#}
                        {#dropMarker: "fas fa-long-arrow-right",#}
                        {#error: "fas fa-exclamation-triangle",#}
                        expanderClosed: _svg("expanderClosed"),
                        {#expanderLazy: "fas fa-angle-right",#}
                        expanderOpen: _svg("expanderOpen"),
                        {#loading: "fas fa-spinner fa-pulse",#}
                        {#nodata: "fas fa-meh",#}
                        {#noExpander: "",#}
                        {#// Default node icons.#}
                        {#// (Use tree.options.icon callback to define custom icons based on node data)#}
                        {#doc: "fas fa-screwdriver",#}
                        {#docOpen: "fas fa-screwdriver",#}
                        folder: _svg("folder"),
                        folderOpen: _svg("folderOpen")
                    }
                },
            });

        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js"></script>
    <script type="text/javascript">
        $("[data-target='#questionInfo']").click(function () {
            let ctx1 = document.getElementById('questionAnsweringPercent').getContext('2d');
            let chart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ["درست", "نزده", "غلط"],
                    datasets: [
                        {
                            backgroundColor: 'rgb(34, 204, 226)',
                            borderColor: 'rgb(34, 204, 226)',
                            data: [69.8, 57.8, 76],
                            label: "همه"
                        },
                        {
                            backgroundColor: 'rgb(255, 138, 72)',
                            borderColor: 'rgb(255, 138, 72)',
                            data: [69.8, 57.8, 76],
                            label: "دانش آموزان من"
                        }
                    ]
                },
                options: {
                    scales: {
                        xAxes: [{
                            barPercentage: 0.85,
                            categoryPercentage: 0.5,
                            gridLines: {
                                display: false
                            }
                        }]
                    }
                }
            });
            let ctx2 = document.getElementById('questionAnsweringChoicePercent').getContext('2d');
            let chart2 = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ["1", "2", "3", "4"],
                    datasets: [
                        {
                            backgroundColor: 'rgb(34, 204, 226)',
                            borderColor: 'rgb(34, 204, 226)',
                            data: [69.8, 57.8, 76, 10],
                            label: "همه"
                        },
                        {
                            backgroundColor: 'rgb(255, 138, 72)',
                            borderColor: 'rgb(255, 138, 72)',
                            data: [69.8, 57.8, 76, 15],
                            label: "دانش آموزان من"
                        }
                    ]
                },
                options: {
                    scales: {
                        xAxes: [{
                            barPercentage: 0.85,
                            categoryPercentage: 0.5,
                            gridLines: {
                                display: false
                            }
                        }]
                    }
                }
            });
        });
    </script>
    <script type="text/javascript">
        $("[data-target='#questionRequest']").click(function () {

        });
    </script>
{% endblock %}

